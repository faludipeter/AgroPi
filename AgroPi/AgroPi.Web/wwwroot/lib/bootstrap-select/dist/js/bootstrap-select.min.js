(function(n,t){typeof define=="function"&&define.amd?define(["jquery"],function(n){return t(n)}):typeof module=="object"&&module.exports?module.exports=t(require("jquery")):t(n.jQuery)})(this,function(n){(function(n){"use strict";function b(n,t){return n.length===t.length&&n.every(function(n,i){return n===t[i]})}function h(n){var r=[],u=n&&n.options,t,i,f;if(n.multiple)for(i=0,f=u.length;i<f;i++)t=u[i],t.selected&&r.push(t.value||t.text);else r=n.value;return r}function v(n,t,i,r){for(var o,u,s=["content","subtext","tokens"],f=!1,e=0;e<s.length;e++)if(o=s[e],u=n[o],u&&(u=u.toString(),o==="content"&&(u=u.replace(/<[^>]+>/g,"")),r&&(u=k(u)),u=u.toUpperCase(),f=i==="contains"?u.indexOf(t)>=0:u.startsWith(t),f))break;return f}function f(n){return parseInt(n,10)||0}function k(t){return n.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t?t.replace(this.re,this.ch):""}),t}function p(t){var f=arguments,r=t,u,e;return[].shift.apply(f),e=this.each(function(){var o=n(this),t,e,h,s;if(o.is("select")){if(t=o.data("selectpicker"),e=typeof r=="object"&&r,t){if(e)for(s in e)e.hasOwnProperty(s)&&(t.options[s]=e[s])}else h=n.extend({},i.DEFAULTS,n.fn.selectpicker.defaults||{},o.data(),e),h.template=n.extend({},i.DEFAULTS.template,n.fn.selectpicker.defaults?n.fn.selectpicker.defaults.template:{},o.data().template,e.template),o.data("selectpicker",t=new i(this,h));typeof r=="string"&&(u=t[r]instanceof Function?t[r].apply(t,f):t.options[r])}}),typeof u!="undefined"?u:e}var c=document.createElement("_"),l,e,o,a,w;c.classList.toggle("c3",!1);c.classList.contains("c3")&&(l=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(n,t){return 1 in arguments&&!this.contains(n)==!t?t:l.call(this,n)});String.prototype.startsWith||function(){var n=function(){try{var n={},t=Object.defineProperty,i=t(n,n,n)&&t}catch(r){}return i}(),i={}.toString,t=function(n){var u,f,r;if(this==null)throw new TypeError;if(u=String(this),n&&i.call(n)=="[object RegExp]")throw new TypeError;var e=u.length,o=String(n),s=o.length,h=arguments.length>1?arguments[1]:undefined,t=h?Number(h):0;if(t!=t&&(t=0),f=Math.min(Math.max(t,0),e),s+f>e)return!1;for(r=-1;++r<s;)if(u.charCodeAt(f+r)!=o.charCodeAt(r))return!1;return!0};n?n(String.prototype,"startsWith",{value:t,configurable:!0,writable:!0}):String.prototype.startsWith=t}();Object.keys||(Object.keys=function(n,t,i){i=[];for(t in n)i.hasOwnProperty.call(n,t)&&i.push(t);return i});e={useDefault:!1,_set:n.valHooks.select.set};n.valHooks.select.set=function(t,i){return i&&!e.useDefault&&n(t).data("selected",!0),e._set.apply(this,arguments)};o=null;a=function(){try{return new Event("change"),!0}catch(n){return!1}}();n.fn.triggerNative=function(n){var i=this[0],t;i.dispatchEvent?(a?t=new Event(n,{bubbles:!0}):(t=document.createEvent("Event"),t.initEvent(n,!0,!1)),i.dispatchEvent(t)):i.fireEvent?(t=document.createEventObject(),t.eventType=n,i.fireEvent("on"+n,t)):this.trigger(n)};var y=function(n){var i=function(t){return n[t]},t="(?:"+Object.keys(n).join("|")+")",r=RegExp(t),u=RegExp(t,"g");return function(n){return n=n==null?"":""+n,r.test(n)?n.replace(u,i):n}},s=y({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),d=y({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},r={ESCAPE:27,ENTER:13,SPACE:32,TAB:9,ARROW_UP:38,ARROW_DOWN:40},u={};u.full=(n.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".");u.major=u.full[0];var t={DISABLED:"disabled",DIVIDER:u.major==="4"?"dropdown-divider":"divider",SHOW:u.major==="4"?"show":"open",DROPUP:"dropup",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:u.major==="4"?"btn-light":"btn-default",POPOVERHEADER:u.major==="4"?"popover-header":"popover-title"},nt=new RegExp(r.ARROW_UP+"|"+r.ARROW_DOWN),tt=new RegExp("^"+r.TAB+"$|"+r.ESCAPE),it=new RegExp(r.ENTER+"|"+r.SPACE),i=function(t,r){var f=this,u;e.useDefault||(n.valHooks.select.set=e._set,e.useDefault=!0);this.$element=n(t);this.$newElement=null;this.$button=null;this.$menu=null;this.options=r;this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){f.selectpicker.keydown.keyHistory=""},800)}}}};this.options.title===null&&(this.options.title=this.$element.attr("title"));u=this.options.windowPadding;typeof u=="number"&&(this.options.windowPadding=[u,u,u,u]);this.val=i.prototype.val;this.render=i.prototype.render;this.refresh=i.prototype.refresh;this.setStyle=i.prototype.setStyle;this.selectAll=i.prototype.selectAll;this.deselectAll=i.prototype.deselectAll;this.destroy=i.prototype.destroy;this.remove=i.prototype.remove;this.show=i.prototype.show;this.hide=i.prototype.hide;this.init()};i.VERSION="1.13.0-beta";i.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(n){return n==1?"{0} item selected":"{0} items selected"},maxOptionsText:function(n,t){return[n==1?"Limit reached ({n} item max)":"Limit reached ({n} items max)",t==1?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"><\/span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600};u.major==="4"&&(i.DEFAULTS.style="btn-light",i.DEFAULTS.iconBase="",i.DEFAULTS.tickIcon="bs-ok-default");i.prototype={constructor:i,init:function(){var n=this,i=this.$element.attr("id");if(this.$element.addClass("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.createLi(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight===!0&&this.$menu.addClass(t.MENURIGHT),typeof i!="undefined"&&this.$button.attr("data-id",i),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container)this.selectPosition();else this.$element.on("hide.bs.select",function(){if(n.isVirtual()){var t=n.$menuInner[0],i=t.firstChild.cloneNode(!1);t.replaceChild(i,t.firstChild);t.scrollTop=0}});this.$menu.data("this",this);this.$newElement.data("this",this);this.options.mobile&&this.mobile();this.$newElement.on({"hide.bs.dropdown":function(t){n.$menuInner.attr("aria-expanded",!1);n.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){n.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){n.$menuInner.attr("aria-expanded",!0);n.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){n.$element.trigger("shown.bs.select",t)}});if(n.$element[0].hasAttribute("required"))this.$element.on("invalid",function(){n.$button.addClass("bs-invalid");n.$element.on({"shown.bs.select":function(){n.$element.val(n.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&n.$button.removeClass("bs-invalid");n.$element.off("rendered.bs.select")}});n.$button.on("blur.bs.select",function(){n.$element.focus().blur();n.$button.off("blur.bs.select")})});setTimeout(function(){n.$element.trigger("loaded.bs.select")})},createDropdown:function(){var i=this.multiple||this.options.showTick?" show-tick":"",r=this.autofocus?" autofocus":"",f=this.options.header?'<div class="'+t.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;<\/button>'+this.options.header+"<\/div>":"",e=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+s(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"><\/div>':"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+t.BUTTONCLASS+'">'+this.options.selectAllText+'<\/button><button type="button" class="actions-btn bs-deselect-all btn '+t.BUTTONCLASS+'">'+this.options.deselectAllText+"<\/button><\/div><\/div>":"",h=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+t.BUTTONCLASS+'">'+this.options.doneButtonText+"<\/button><\/div><\/div>":"",c='<div class="dropdown bootstrap-select'+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+r+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"><\/div><\/div> <\/div>'+(u.major==="4"?"":'<span class="bs-caret">'+this.options.template.caret+"<\/span>")+'<\/button><div class="dropdown-menu '+(u.major==="4"?"":t.SHOW)+'" role="combobox">'+f+e+o+'<div class="inner '+t.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="dropdown-menu inner '+(u.major==="4"?t.SHOW:"")+'"><\/ul><\/div>'+h+"<\/div><\/div>";return n(c)},setPositionData:function(){var t,n,i;for(this.selectpicker.view.canHighlight=[],t=0;t<this.selectpicker.current.data.length;t++)n=this.selectpicker.current.data[t],i=!0,n.type==="divider"?(i=!1,n.height=this.sizeInfo.dividerHeight):n.type==="optgroup-label"?(i=!1,n.height=this.sizeInfo.dropdownHeaderHeight):n.height=this.sizeInfo.liHeight,n.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),n.position=(t===0?0:this.selectpicker.current.data[t-1].position)+n.height},isVirtual:function(){return this.options.virtualScroll!==!1&&this.selectpicker.main.elements.length>=this.options.virtualScroll||this.options.virtualScroll===!0},createView:function(t,i){function o(n,i){var s=r.selectpicker.current.elements.length,k=[],y,p,g,nt,h=undefined,d,tt,it,rt=!0,l=r.isVirtual(),w,o,st,a,v;for(r.selectpicker.view.scrollTop=n,l===!0&&r.sizeInfo.hasScrollBar&&r.$menu[0].offsetWidth>r.sizeInfo.totalMenuWidth&&(r.sizeInfo.menuWidth=r.$menu[0].offsetWidth,r.sizeInfo.totalMenuWidth=r.sizeInfo.menuWidth+r.sizeInfo.scrollBarWidth,r.$menu.css("min-width",r.sizeInfo.menuWidth)),y=Math.ceil(r.sizeInfo.menuInnerHeight/r.sizeInfo.liHeight*1.5),p=Math.round(s/y)||1,o=0;o<p;o++){if(w=(o+1)*y,o===p-1&&(w=s),k[o]=[o*y+(o?1:0),w],!s)break;h===undefined&&n<=r.selectpicker.current.data[w-1].position-r.sizeInfo.menuInnerHeight&&(h=o)}if(h===undefined&&(h=0),d=[r.selectpicker.view.position0,r.selectpicker.view.position1],g=Math.max(0,h-1),nt=Math.min(p-1,h+1),r.selectpicker.view.position0=Math.max(0,k[g][0])||0,r.selectpicker.view.position1=Math.min(s,k[nt][1])||0,tt=d[0]!==r.selectpicker.view.position0||d[1]!==r.selectpicker.view.position1,r.activeIndex!==undefined&&(f=r.selectpicker.current.elements[r.selectpicker.current.map.newIndex[r.prevActiveIndex]],e=r.selectpicker.current.elements[r.selectpicker.current.map.newIndex[r.activeIndex]],u=r.selectpicker.current.elements[r.selectpicker.current.map.newIndex[r.selectedIndex]],i&&(r.activeIndex!==r.selectedIndex&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active")),r.activeIndex=undefined),r.activeIndex&&r.activeIndex!==r.selectedIndex&&u&&u.length&&(u.classList.remove("active"),u.firstChild&&u.firstChild.classList.remove("active"))),r.prevActiveIndex!==undefined&&r.prevActiveIndex!==r.activeIndex&&r.prevActiveIndex!==r.selectedIndex&&f&&f.length&&(f.classList.remove("active"),f.firstChild&&f.firstChild.classList.remove("active")),(i||tt)&&(it=r.selectpicker.view.visibleElements?r.selectpicker.view.visibleElements.slice():[],r.selectpicker.view.visibleElements=r.selectpicker.current.elements.slice(r.selectpicker.view.position0,r.selectpicker.view.position1),r.setOptionStatus(),(t||l===!1&&i)&&(rt=!b(it,r.selectpicker.view.visibleElements)),(i||l===!0)&&rt)){var c=r.$menuInner[0],ut=document.createDocumentFragment(),ht=c.firstChild.cloneNode(!1),ft,et,ot=l===!0?r.selectpicker.view.visibleElements:r.selectpicker.current.elements;for(c.replaceChild(ht,c.firstChild),o=0,st=ot.length;o<st;o++)ut.appendChild(ot[o]);l===!0&&(ft=r.selectpicker.view.position0===0?0:r.selectpicker.current.data[r.selectpicker.view.position0-1].position,et=r.selectpicker.view.position1>s-1?0:r.selectpicker.current.data[s-1].position-r.selectpicker.current.data[r.selectpicker.view.position1-1].position,c.firstChild.style.marginTop=ft+"px",c.firstChild.style.marginBottom=et+"px");c.firstChild.appendChild(ut)}r.prevActiveIndex=r.activeIndex;r.options.liveSearch?t&&i&&(a=0,r.selectpicker.view.canHighlight[a]||(a=1+r.selectpicker.view.canHighlight.slice(1).indexOf(!0)),v=r.selectpicker.view.visibleElements[a],r.selectpicker.view.currentActive&&(r.selectpicker.view.currentActive.classList.remove("active"),r.selectpicker.view.currentActive.firstChild&&r.selectpicker.view.currentActive.firstChild.classList.remove("active")),v&&(v.classList.add("active"),v.firstChild&&v.firstChild.classList.add("active")),r.activeIndex=r.selectpicker.current.map.originalIndex[a]):r.$menuInner.focus()}var r,e,u,f;i=i||0;r=this;this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main;e=[];this.setPositionData();o(i,!0);this.$menuInner.off("scroll.createView").on("scroll.createView",function(n,t){r.noScroll||o(this.scrollTop,t);r.noScroll=!1});n(window).off("resize.createView").on("resize.createView",function(){o(r.$menuInner[0].scrollTop)})},createLi:function(){var h=this,e=[],w,y=0,b=0,r=[],o=0,p=0,f=-1,it,v;this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option"));var i={span:document.createElement("span"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" ")},k=i.span.cloneNode(!1),c=document.createDocumentFragment();k.className=h.options.iconBase+" "+h.options.tickIcon+" check-mark";i.a.appendChild(k);i.a.setAttribute("role","option");i.subtext.className="text-muted";i.text=i.span.cloneNode(!1);i.text.className="text";var l=function(n,t,r,u){var f=i.li.cloneNode(!1);return n&&(n.nodeType===1||n.nodeType===11?f.appendChild(n):f.innerHTML=n),typeof r!="undefined"&&""!==r&&(f.className=r),typeof u!="undefined"&&null!==u&&f.classList.add("optgroup-"+u),f},d=function(n,t,r){var f=i.a.cloneNode(!0);return n&&(n.nodeType===11?f.appendChild(n):f.insertAdjacentHTML("beforeend",n)),typeof t!="undefined"&""!==t&&(f.className=t),u.major==="4"&&f.classList.add("dropdown-item"),r&&f.setAttribute("style",r),f},g=function(n){var t=i.text.cloneNode(!1),r,u,f;return n.optionContent?t.innerHTML=n.optionContent:(t.textContent=n.text,n.optionIcon&&(f=i.whitespace.cloneNode(!1),u=i.span.cloneNode(!1),u.className=h.options.iconBase+" "+n.optionIcon,c.appendChild(u),c.appendChild(f)),n.optionSubtext&&(r=i.subtext.cloneNode(!1),r.textContent=n.optionSubtext,t.appendChild(r))),c.appendChild(t),c},rt=function(n){var t=i.text.cloneNode(!1),r,u,f;return t.textContent=n.labelEscaped,n.labelIcon&&(f=i.whitespace.cloneNode(!1),u=i.span.cloneNode(!1),u.className=h.options.iconBase+" "+n.labelIcon,c.appendChild(u),c.appendChild(f)),n.labelSubtext&&(r=i.subtext.cloneNode(!1),r.textContent=n.labelSubtext,t.appendChild(r)),c.appendChild(t),c};if(this.options.title&&!this.multiple){f--;var a=this.$element[0],nt=!1,tt=!this.selectpicker.view.titleOption.parentNode;tt&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",it=n(a.options[a.selectedIndex]),nt=it.attr("selected")===undefined&&this.$element.data("selected")===undefined);(tt||this.selectpicker.view.titleOption.index!==0)&&a.insertBefore(this.selectpicker.view.titleOption,a.firstChild);nt&&(a.selectedIndex=0)}v=this.$element.find("option");v.each(function(i){var ft=n(this),yt,pt,ti,a,nt,tt;if(f++,!ft.hasClass("bs-title-option")){var u=ft.data(),wt=this.className||"",bt=s(this.style.cssText),et=u.content,ot=this.textContent,kt=u.tokens,st=u.subtext,lt=u.icon,it=ft.parent(),ut=it[0],at=ut.tagName==="OPTGROUP",dt=at&&ut.disabled,ht=this.disabled||dt,c,k=this.previousElementSibling&&this.previousElementSibling.tagName==="OPTGROUP",ct,vt=it.data();if(u.hidden===!0||h.options.hideDisabled&&(ht&&!at||dt)){c=u.prevHiddenIndex;ft.next().data("prevHiddenIndex",c!==undefined?c:i);f--;k||c!==undefined&&(a=v[c].previousElementSibling,a&&a.tagName==="OPTGROUP"&&!a.disabled&&(k=!0));k&&r[r.length-1].type!=="divider"&&(f++,e.push(l(!1,null,t.DIVIDER,o+"div")),r.push({type:"divider",optID:o,originalIndex:i}));return}if(at&&u.divider!==!0){if(h.options.hideDisabled&&ht&&(vt.allOptionsDisabled===undefined&&(yt=it.children(),it.data("allOptionsDisabled",yt.filter(":disabled").length===yt.length)),it.data("allOptionsDisabled"))){f--;return}if(pt=" "+ut.className||"",!this.previousElementSibling){o+=1;var ii=ut.label,gt=s(ii),ni=vt.subtext,ri=vt.icon;i!==0&&e.length>0&&(f++,e.push(l(!1,null,t.DIVIDER,o+"div")),r.push({type:"divider",optID:o,originalIndex:i}));f++;ti=rt({labelEscaped:gt,labelSubtext:ni,labelIcon:ri});e.push(l(ti,null,"dropdown-header"+pt,o));r.push({content:gt,subtext:ni,type:"optgroup-label",optID:o,originalIndex:i});p=f-1}if(h.options.hideDisabled&&ht||u.hidden===!0){f--;return}ct=g({text:ot,optionContent:et,optionSubtext:st,optionIcon:lt});e.push(l(d(ct,"opt "+wt+pt,bt),i,"",o));r.push({content:et||ot,subtext:st,tokens:kt,type:"option",optID:o,headerIndex:p,lastIndex:p+ut.childElementCount,originalIndex:i,data:u});y++}else u.divider===!0?(e.push(l(!1,i,"divider")),r.push({type:"divider",originalIndex:i})):(!k&&h.options.hideDisabled&&(c=u.prevHiddenIndex,c!==undefined&&(a=v[c].previousElementSibling,a&&a.tagName==="OPTGROUP"&&!a.disabled&&(k=!0))),k&&r[r.length-1].type!=="divider"&&(f++,e.push(l(!1,null,t.DIVIDER,o+"div")),r.push({type:"divider",optID:o,originalIndex:i})),ct=g({text:ot,optionContent:et,optionSubtext:st,optionIcon:lt}),e.push(l(d(ct,wt,bt),i)),r.push({content:et||ot,subtext:st,tokens:kt,type:"option",originalIndex:i,data:u}),y++);h.selectpicker.main.map.newIndex[i]=f;h.selectpicker.main.map.originalIndex[f]=i;nt=r[r.length-1];nt.disabled=ht;tt=0;nt.content&&(tt+=nt.content.length);nt.subtext&&(tt+=nt.subtext.length);lt&&(tt+=1);tt>b&&(b=tt,w=e[e.length-1])}});this.selectpicker.main.elements=e;this.selectpicker.main.data=r;this.selectpicker.current=this.selectpicker.main;this.selectpicker.view.widestOption=w;this.selectpicker.view.availableOptionsCount=y},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var i=this,p=this.$element.find("option"),r=[],e=[],f,h,c,n,u,l,a,v,t,o,s,y;for(this.togglePlaceholder(),this.tabIndex(),f=0,h=this.selectpicker.main.elements.length;f<h;f++)if(c=this.selectpicker.main.map.originalIndex[f],n=p[c],n&&n.selected&&(r.push(n),e.length<100&&i.options.selectedTextFormat!=="count"||r.length===1)){if(i.options.hideDisabled&&(n.disabled||n.parentNode.tagName==="OPTGROUP"&&n.parentNode.disabled))return;u=this.selectpicker.main.data[f].data;l=u.icon&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+u.icon+'"><\/i> ':"";a=i.options.showSubtext&&u.subtext&&!i.multiple?' <small class="text-muted">'+u.subtext+"<\/small>":"";v=n.title?n.title:u.content&&i.options.showContent?u.content.toString():l+n.innerHTML.trim()+a;e.push(v)}t=this.multiple?e.join(this.options.multipleSeparator):e[0];r.length>50&&(t+="...");this.multiple&&this.options.selectedTextFormat.indexOf("count")!==-1&&(o=this.options.selectedTextFormat.split(">"),(o.length>1&&r.length>o[1]||o.length===1&&r.length>=2)&&(s=this.selectpicker.view.availableOptionsCount,y=typeof this.options.countSelectedText=="function"?this.options.countSelectedText(r.length,s):this.options.countSelectedText,t=y.replace("{0}",r.length.toString()).replace("{1}",s.toString())));this.options.title==undefined&&(this.options.title=this.$element[0].title);this.options.selectedTextFormat=="static"&&(t=this.options.title);t||(t=typeof this.options.title!="undefined"?this.options.title:this.options.noneSelectedText);this.$button[0].title=d(t.replace(/<[^>]*>?/g,"").trim());this.$button.find(".filter-option-inner-inner")[0].innerHTML=t;this.$element.trigger("rendered.bs.select")},setStyle:function(n,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=n?n:this.options.style;t=="add"?this.$button.addClass(i):t=="remove"?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(i){var d;if(i||this.options.size!==!1&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var c=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),s=document.createElement("ul"),k=document.createElement("li"),l=document.createElement("li"),nt=document.createElement("li"),v=document.createElement("a"),y=document.createElement("span"),p=this.options.header&&this.$menu.find("."+t.POPOVERHEADER).length>0?this.$menu.find("."+t.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,w=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,b=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth;y.className="text";v.className="dropdown-item";c.className=this.$menu[0].parentNode.className+" "+t.SHOW;c.style.width=this.sizeInfo.selectWidth+"px";o.className="dropdown-menu "+t.SHOW;a.className="inner "+t.SHOW;s.className="dropdown-menu inner "+(u.major==="4"?t.SHOW:"");k.className=t.DIVIDER;l.className="dropdown-header";y.appendChild(document.createTextNode("Inner text"));v.appendChild(y);nt.appendChild(v);l.appendChild(y.cloneNode(!0));this.selectpicker.view.widestOption&&s.appendChild(this.selectpicker.view.widestOption.cloneNode(!0));s.appendChild(nt);s.appendChild(k);s.appendChild(l);p&&o.appendChild(p);h&&(d=document.createElement("input"),h.className="bs-searchbox",d.className="form-control",h.appendChild(d),o.appendChild(h));w&&o.appendChild(w);a.appendChild(s);o.appendChild(a);b&&o.appendChild(b);c.appendChild(o);document.body.appendChild(c);var rt=v.offsetHeight,ut=l?l.offsetHeight:0,ft=p?p.offsetHeight:0,et=h?h.offsetHeight:0,ot=w?w.offsetHeight:0,st=b?b.offsetHeight:0,ht=n(k).outerHeight(!0),r=window.getComputedStyle?window.getComputedStyle(o):!1,tt=o.offsetWidth,e=r?null:n(o),g={vert:f(r?r.paddingTop:e.css("paddingTop"))+f(r?r.paddingBottom:e.css("paddingBottom"))+f(r?r.borderTopWidth:e.css("borderTopWidth"))+f(r?r.borderBottomWidth:e.css("borderBottomWidth")),horiz:f(r?r.paddingLeft:e.css("paddingLeft"))+f(r?r.paddingRight:e.css("paddingRight"))+f(r?r.borderLeftWidth:e.css("borderLeftWidth"))+f(r?r.borderRightWidth:e.css("borderRightWidth"))},ct={vert:g.vert+f(r?r.marginTop:e.css("marginTop"))+f(r?r.marginBottom:e.css("marginBottom"))+2,horiz:g.horiz+f(r?r.marginLeft:e.css("marginLeft"))+f(r?r.marginRight:e.css("marginRight"))+2},it;a.style.overflowY="scroll";it=o.offsetWidth-tt;document.body.removeChild(c);this.sizeInfo.liHeight=rt;this.sizeInfo.dropdownHeaderHeight=ut;this.sizeInfo.headerHeight=ft;this.sizeInfo.searchHeight=et;this.sizeInfo.actionsHeight=ot;this.sizeInfo.doneButtonHeight=st;this.sizeInfo.dividerHeight=ht;this.sizeInfo.menuPadding=g;this.sizeInfo.menuExtras=ct;this.sizeInfo.menuWidth=tt;this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth;this.sizeInfo.scrollBarWidth=it;this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight;this.setPositionData()}},getSelectPosition:function(){var r=this,u=n(window),e=r.$newElement.offset(),f=n(r.options.container),t,i;r.options.container&&!f.is("body")?(t=f.offset(),t.top+=parseInt(f.css("borderTopWidth")),t.left+=parseInt(f.css("borderLeftWidth"))):t={top:0,left:0};i=r.options.windowPadding;this.sizeInfo.selectOffsetTop=e.top-t.top-u.scrollTop();this.sizeInfo.selectOffsetBot=u.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-i[2];this.sizeInfo.selectOffsetLeft=e.left-t.left-u.scrollLeft();this.sizeInfo.selectOffsetRight=u.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-i[1];this.sizeInfo.selectOffsetTop-=i[0];this.sizeInfo.selectOffsetLeft-=i[3]},setMenuSize:function(){var u;this.getSelectPosition();var w=this.sizeInfo.selectWidth,v=this.sizeInfo.liHeight,f=this.sizeInfo.headerHeight,e=this.sizeInfo.searchHeight,o=this.sizeInfo.actionsHeight,s=this.sizeInfo.doneButtonHeight,b=this.sizeInfo.dividerHeight,i=this.sizeInfo.menuPadding,r,n,y=0,h,c,l,a,p;if(this.options.dropupAuto&&(p=v*this.selectpicker.current.elements.length+i.vert,this.$newElement.toggleClass(t.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&p+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),this.options.size==="auto")c=this.selectpicker.current.elements.length>3?this.sizeInfo.liHeight*3+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,h=c+f+e+o+s,a=Math.max(c-i.vert,0),this.$newElement.hasClass(t.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),l=n,r=n-f-e-o-s-i.vert;else if(this.options.size&&this.options.size!="auto"&&this.selectpicker.current.elements.length>this.options.size){for(u=0;u<this.options.size;u++)this.selectpicker.current.data[u].type==="divider"&&y++;n=v*this.options.size+y*b+i.vert;r=n-i.vert;l=n+f+e+o+s;h=a=""}this.options.dropdownAlignRight==="auto"&&this.$menu.toggleClass(t.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.$menu[0].offsetWidth-w);this.$menu.css({"max-height":l+"px",overflow:"hidden","min-height":h+"px"});this.$menuInner.css({"max-height":r+"px","overflow-y":"auto","min-height":a+"px"});this.sizeInfo.menuInnerHeight=r;this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth));this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var i=this,f=n(window),u,r=0;if(this.setMenuSize(),this.options.size==="auto"){this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()});f.off("resize.setMenuSize scroll.setMenuSize").on("resize.setMenuSize scroll.setMenuSize",function(){return i.setMenuSize()})}else this.options.size&&this.options.size!="auto"&&this.selectpicker.current.elements.length>this.options.size&&(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize"),f.off("resize.setMenuSize scroll.setMenuSize"));t?r=this.$menuInner[0].scrollTop:i.multiple||(u=i.selectpicker.main.map.newIndex[i.$element[0].selectedIndex],typeof u=="number"&&i.options.size!==!1&&(r=i.sizeInfo.liHeight*u,r=r-i.sizeInfo.menuInnerHeight/2+i.sizeInfo.liHeight/2));i.createView(!1,r)}},setWidth:function(){var n=this;this.options.width==="auto"?requestAnimationFrame(function(){n.$menu.css("min-width","0");n.liHeight();n.setMenuSize();var t=n.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove();n.sizeInfo.selectWidth=Math.max(n.sizeInfo.totalMenuWidth,i);n.$newElement.css("width",n.sizeInfo.selectWidth+"px")}):this.options.width==="fit"?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=n('<div class="bs-container" />');var i=this,r=n(this.options.container),e,f,o,s=function(n){var s={};i.$bsContainer.addClass(n.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(t.DROPUP,n.hasClass(t.DROPUP));e=n.offset();r.is("body")?f={top:0,left:0}:(f=r.offset(),f.top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),f.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft());o=n.hasClass(t.DROPUP)?0:n[0].offsetHeight;u.major<4&&(s.top=e.top-f.top+o,s.left=e.left-f.left);s.width=n[0].offsetWidth;i.$bsContainer.css(s)};this.$button.on("click.bs.dropdown.data-api",function(){i.isDisabled()||(s(i.$newElement),i.$bsContainer.appendTo(i.options.container).toggleClass(t.SHOW,!i.$button.hasClass(t.SHOW)).append(i.$menu))});n(window).on("resize scroll",function(){s(i.$newElement)});this.$element.on("hide.bs.select",function(){i.$menu.data("height",i.$menu.height());i.$bsContainer.detach()})},setOptionStatus:function(){var n=this,e=this.$element.find("option"),r,i,t,u,f;if(n.noScroll=!1,n.selectpicker.view.visibleElements&&n.selectpicker.view.visibleElements.length)for(r=0;r<n.selectpicker.view.visibleElements.length;r++)i=n.selectpicker.current.map.originalIndex[r+n.selectpicker.view.position0],t=e[i],t&&(u=this.selectpicker.main.map.newIndex[i],f=this.selectpicker.main.elements[u],n.setDisabled(i,t.disabled||t.parentNode.tagName==="OPTGROUP"&&t.parentNode.disabled,u,f),n.setSelected(i,t.selected,u,f))},setSelected:function(n,t,i,r){var o=this.activeIndex!==undefined,h=this.activeIndex===n,s,u,f,e=h||t&&!this.multiple&&!o;i||(i=this.selectpicker.main.map.newIndex[n]);r||(r=this.selectpicker.main.elements[i]);f=r.firstChild;t&&(this.selectedIndex=n);r.classList.toggle("selected",t);r.classList.toggle("active",e);e&&(this.selectpicker.view.currentActive=r,this.activeIndex=n);f&&(f.classList.toggle("selected",t),f.classList.toggle("active",e),f.setAttribute("aria-selected",t));e||!o&&t&&this.prevActiveIndex!==undefined&&(s=this.selectpicker.main.map.newIndex[this.prevActiveIndex],u=this.selectpicker.main.elements[s],u.classList.remove("selected"),u.classList.remove("active"),u.firstChild&&(u.firstChild.classList.remove("selected"),u.firstChild.classList.remove("active")))},setDisabled:function(n,i,r,f){var e;r||(r=this.selectpicker.main.map.newIndex[n]);f||(f=this.selectpicker.main.elements[r]);e=f.firstChild;f.classList.toggle(t.DISABLED,i);e&&(u.major==="4"&&e.classList.toggle(t.DISABLED,i),e.setAttribute("aria-disabled",i),i?e.setAttribute("tabindex",-1):e.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var n=this;this.isDisabled()?(this.$newElement.addClass(t.DISABLED),this.$button.addClass(t.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass(t.DISABLED)&&(this.$newElement.removeClass(t.DISABLED),this.$button.removeClass(t.DISABLED).attr("aria-disabled",!1)),this.$button.attr("tabindex")!=-1||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"));this.$button.click(function(){return!n.isDisabled()})},togglePlaceholder:function(){var t=this.$element[0],i=t.selectedIndex,n=i===-1;n||t.options[i].value||(n=!0);this.$button.toggleClass("bs-placeholder",n)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&this.$element.attr("tabindex")!==-98&&this.$element.attr("tabindex")!=="-98"&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")));this.$element.attr("tabindex",-98)},clickListener:function(){var i=this,r=n(document);r.data("spaceSelect",!1);this.$button.on("keyup",function(n){/(32)/.test(n.keyCode.toString(10))&&r.data("spaceSelect")&&(n.preventDefault(),r.data("spaceSelect",!1))});this.$newElement.on("show.bs.dropdown",function(){u.major>3&&!i.dropdown&&(i.dropdown=i.$button.data("bs.dropdown"),i.dropdown._menu=i.$menu[0])});this.$button.on("click.bs.dropdown.data-api",function(){i.$newElement.hasClass(t.SHOW)||i.setSize()});this.$element.on("shown.bs.select",function(){i.$menuInner[0].scrollTop!==i.selectpicker.view.scrollTop&&(i.$menuInner[0].scrollTop=i.selectpicker.view.scrollTop);i.options.liveSearch?i.$searchbox.focus():i.$menuInner.focus()});this.$menuInner.on("click","li a",function(r,u){var a=n(this),ut=i.isVirtual()?i.selectpicker.view.position0:0,s=i.selectpicker.current.map.originalIndex[a.parent().index()+ut],tt=h(i.$element[0]),ft=i.$element.prop("selectedIndex"),p=!0,b,k,rt;if(i.multiple&&i.options.maxOptions!==1&&r.stopPropagation(),r.preventDefault(),!i.isDisabled()&&!a.parent().hasClass(t.DISABLED)){var v=i.$element.find("option"),c=v.eq(s),it=c.prop("selected"),w=c.parent("optgroup"),f=i.options.maxOptions,e=w.data("maxOptions")||!1;if(s===i.activeIndex&&(u=!0),u||(i.prevActiveIndex=i.activeIndex,i.activeIndex=undefined),i.multiple){if(c.prop("selected",!it),i.setSelected(s,!it),a.blur(),(f!==!1||e!==!1)&&(b=f<v.filter(":selected").length,k=e<w.find("option:selected").length,f&&b||e&&k))if(f&&f==1)v.prop("selected",!1),c.prop("selected",!0),i.$menuInner.find(".selected").removeClass("selected"),i.setSelected(s,!0);else if(e&&e==1)w.find("option:selected").prop("selected",!1),c.prop("selected",!0),rt=i.selectpicker.current.data[a.parent().index()+i.selectpicker.view.position0].optID,i.$menuInner.find(".optgroup-"+rt).removeClass("selected"),i.setSelected(s,!0);else{var d=typeof i.options.maxOptionsText=="string"?[i.options.maxOptionsText,i.options.maxOptionsText]:i.options.maxOptionsText,l=typeof d=="function"?d(f,e):d,g=l[0].replace("{n}",f),nt=l[1].replace("{n}",e),y=n('<div class="notify"><\/div>');l[2]&&(g=g.replace("{var}",l[2][f>1?0:1]),nt=nt.replace("{var}",l[2][e>1?0:1]));c.prop("selected",!1);i.$menu.append(y);f&&b&&(y.append(n("<div>"+g+"<\/div>")),p=!1,i.$element.trigger("maxReached.bs.select"));e&&k&&(y.append(n("<div>"+nt+"<\/div>")),p=!1,i.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){i.setSelected(s,!1)},10);y.delay(750).fadeOut(300,function(){n(this).remove()})}}else v.prop("selected",!1),c.prop("selected",!0),i.setSelected(s,!0);!i.multiple||i.multiple&&i.options.maxOptions===1?i.$button.focus():i.options.liveSearch&&i.$searchbox.focus();p&&(tt!=h(i.$element[0])&&i.multiple||ft!=i.$element.prop("selectedIndex")&&!i.multiple)&&(o=[s,c.prop("selected"),tt],i.$element.triggerNative("change"))}});this.$menu.on("click","li."+t.DISABLED+" a, ."+t.POPOVERHEADER+", ."+t.POPOVERHEADER+" :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),i.options.liveSearch&&!n(t.target).hasClass("close")?i.$searchbox.focus():i.$button.focus())});this.$menuInner.on("click",".divider, .dropdown-header",function(n){n.preventDefault();n.stopPropagation();i.options.liveSearch?i.$searchbox.focus():i.$button.focus()});this.$menu.on("click","."+t.POPOVERHEADER+" .close",function(){i.$button.click()});this.$searchbox.on("click",function(n){n.stopPropagation()});this.$menu.on("click",".actions-btn",function(t){i.options.liveSearch?i.$searchbox.focus():i.$button.focus();t.preventDefault();t.stopPropagation();n(this).hasClass("bs-select-all")?i.selectAll():i.deselectAll()});this.$element.on({change:function(){i.render();i.$element.trigger("changed.bs.select",o);o=null},focus:function(){i.$button.focus()}})},liveSearchListener:function(){var n=this,t=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){!n.$searchbox.val()||n.$searchbox.val("")});this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(n){n.stopPropagation()});this.$searchbox.on("input propertychange",function(){var o=n.$searchbox.val(),i,r,h;if(n.selectpicker.search.map.newIndex={},n.selectpicker.search.map.originalIndex={},n.selectpicker.search.elements=[],n.selectpicker.search.data=[],o){var r,e=[],a=o.toUpperCase(),u={},f=[],y=n._searchStyle(),p=n.options.liveSearchNormalize;for(n._$lisSelected=n.$menuInner.find(".selected"),r=0;r<n.selectpicker.main.data.length;r++)i=n.selectpicker.main.data[r],u[r]||(u[r]=v(i,a,y,p)),u[r]&&i.headerIndex!==undefined&&f.indexOf(i.headerIndex)===-1&&(i.headerIndex>0&&(u[i.headerIndex-1]=!0,f.push(i.headerIndex-1)),u[i.headerIndex]=!0,f.push(i.headerIndex),u[i.lastIndex+1]=!0),u[r]&&i.type!=="optgroup-label"&&f.push(r);for(r=0,h=f.length;r<h;r++){var c=f[r],w=f[r-1],i=n.selectpicker.main.data[c],l=n.selectpicker.main.data[w];(i.type!=="divider"||i.type==="divider"&&l&&l.type!=="divider"&&h-1!==r)&&(n.selectpicker.search.data.push(i),e.push(n.selectpicker.main.elements[c]),n.selectpicker.search.map.newIndex[i.originalIndex]=e.length-1,n.selectpicker.search.map.originalIndex[e.length-1]=i.originalIndex)}n.activeIndex=undefined;n.noScroll=!0;n.$menuInner.scrollTop(0);n.selectpicker.search.elements=e;n.createView(!0);e.length||(t.className="no-results",t.innerHTML=n.options.noneResultsText.replace("{0}",'"'+s(o)+'"'),n.$menuInner[0].firstChild.appendChild(t))}else n.$menuInner.scrollTop(0),n.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(n){return typeof n!="undefined"?(this.$element.val(n).triggerNative("change"),this.$element):this.$element.val()},changeAll:function(n){var i,f,t;if(this.multiple){typeof n=="undefined"&&(n=!0);var e=this.$element.find("option"),r=0,u=0,s=h(this.$element[0]);for(this.$element.addClass("bs-select-hidden"),i=0;i<this.selectpicker.current.elements.length;i++)f=this.selectpicker.current.map.originalIndex[i],t=e[f],t&&(t.selected&&r++,t.selected=n,t.selected&&u++);(this.$element.removeClass("bs-select-hidden"),r!==u)&&(this.setOptionStatus(),this.togglePlaceholder(),o=[null,null,s],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(n){n=n||window.event;n&&n.stopPropagation();this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(i){var h=n(this),ht=h.is("input")?h.parent().parent():h.parent(),u=ht.data("this"),a=u.findLis(),f,d,e,o,c,w=!1,ut=i.which===r.TAB&&!h.hasClass("dropdown-toggle")&&!u.options.selectOnTab,et=nt.test(i.which)||ut,it=u.$menuInner[0].scrollTop,ot=u.isVirtual(),s=ot===!0?u.selectpicker.view.position0:0,y,ft,p,b,k,rt,st,l;if(d=u.$newElement.hasClass(t.SHOW),!d&&(et||i.which>=48&&i.which<=57||i.which>=96&&i.which<=105||i.which>=65&&i.which<=90)&&u.$button.trigger("click.bs.dropdown.data-api"),i.which===r.ESCAPE&&d&&(i.preventDefault(),u.$button.trigger("click.bs.dropdown.data-api").focus()),et){if(!a.length)return;f=ot===!0?a.index(a.filter(".active")):u.selectpicker.current.map.newIndex[u.activeIndex];f===undefined&&(f=-1);f!==-1&&(e=u.selectpicker.current.elements[f+s],e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"));i.which===r.ARROW_UP?(f!==-1&&f--,f+s<0&&(f+=a.length),u.selectpicker.view.canHighlight[f+s]||(f=u.selectpicker.view.canHighlight.slice(0,f+s).lastIndexOf(!0)-s,f===-1&&(f=a.length-1))):(i.which===r.ARROW_DOWN||ut)&&(f++,f+s>=u.selectpicker.view.canHighlight.length&&(f=0),u.selectpicker.view.canHighlight[f+s]||(f=f+1+u.selectpicker.view.canHighlight.slice(f+s+1).indexOf(!0)));i.preventDefault();y=s+f;i.which===r.ARROW_UP?s===0&&f===a.length-1?(u.$menuInner[0].scrollTop=u.$menuInner[0].scrollHeight,y=u.selectpicker.current.elements.length-1):(o=u.selectpicker.current.data[y],c=o.position-o.height,w=c<it):(i.which===r.ARROW_DOWN||ut)&&(s!==0&&f===0?(u.$menuInner[0].scrollTop=0,y=0):(o=u.selectpicker.current.data[y],c=o.position-u.sizeInfo.menuInnerHeight,w=c>it));e=u.selectpicker.current.elements[y];e.classList.add("active");e.firstChild&&e.firstChild.classList.add("active");u.activeIndex=u.selectpicker.current.map.originalIndex[y];u.selectpicker.view.currentActive=e;w&&(u.$menuInner[0].scrollTop=c);u.options.liveSearch?u.$searchbox.focus():h.focus()}else if(!h.is("input")&&!tt.test(i.which)||i.which===r.SPACE&&u.selectpicker.keydown.keyHistory){for(p=[],i.preventDefault(),u.selectpicker.keydown.keyHistory+=g[i.which],u.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(u.selectpicker.keydown.resetKeyHistory.cancel),u.selectpicker.keydown.resetKeyHistory.cancel=u.selectpicker.keydown.resetKeyHistory.start(),b=u.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(b)&&(b=b.charAt(0)),k=0;k<u.selectpicker.current.data.length;k++)rt=u.selectpicker.current.data[k],st=v(rt,b,"startsWith",!0),st&&u.selectpicker.view.canHighlight[k]&&(rt.index=k,p.push(rt.originalIndex));p.length&&(l=0,a.removeClass("active").find("a").removeClass("active"),b.length===1&&(l=p.indexOf(u.activeIndex),l===-1||l===p.length-1?l=0:l++),ft=u.selectpicker.current.map.newIndex[p[l]],o=u.selectpicker.current.data[ft],it-o.position>0?(c=o.position-o.height,w=!0):(c=o.position-u.sizeInfo.menuInnerHeight,w=o.position>it+u.sizeInfo.menuInnerHeight),e=u.selectpicker.current.elements[ft],e.classList.add("active"),e.firstChild&&e.firstChild.classList.add("active"),u.activeIndex=p[l],e.firstChild.focus(),w&&(u.$menuInner[0].scrollTop=c),h.focus())}d&&(i.which===r.SPACE&&!u.selectpicker.keydown.keyHistory||i.which===r.ENTER||i.which===r.TAB&&u.options.selectOnTab)&&(i.which!==r.SPACE&&i.preventDefault(),u.options.liveSearch&&i.which===r.SPACE||(u.$menuInner.find(".active a").trigger("click",!0),h.focus(),u.options.liveSearch||(i.preventDefault(),n(document).data("spaceSelect",!0))))},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){var t=n.extend({},this.options,this.$element.data());this.options=t;this.selectpicker.main.map.newIndex={};this.selectpicker.main.map.originalIndex={};this.createLi();this.checkDisabled();this.render();this.setStyle();this.setWidth();this.setSize(!0);this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();this.$bsContainer?this.$bsContainer.remove():this.$menu.remove();this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};w=n.fn.selectpicker;n.fn.selectpicker=p;n.fn.selectpicker.Constructor=i;n.fn.selectpicker.noConflict=function(){return n.fn.selectpicker=w,this};n(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',i.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',function(n){n.stopPropagation()});n(window).on("load.bs.select.data-api",function(){n(".selectpicker").each(function(){var t=n(this);p.call(t,t.data())})})})(n)});